<div class="vehicle-selector-overlay" [class.open]="isOpen" (click)="onClose()">
    <div class="vehicle-selector-sheet" (click)="$event.stopPropagation()">
        <div class="sheet-header">
            <h3>Select Vehicle</h3>
            <button class="btn-close" (click)="onClose()">&times;</button>
        </div>

        <div class="sheet-content">
            <!-- Breadcrumbs / Progress -->
            <div class="selection-progress">
                <span [class.active]="step === 'year'" (click)="step = 'year'">{{ selectedYear || 'Year' }}</span>
                <span class="separator">&rsaquo;</span>
                <span [class.active]="step === 'make'" [class.disabled]="!selectedYear"
                    (click)="selectedYear ? step = 'make' : null">{{ selectedMake || 'Make' }}</span>
                <span class="separator">&rsaquo;</span>
                <span [class.active]="step === 'model'" [class.disabled]="!selectedMake">{{ selectedModel || 'Model'
                    }}</span>
            </div>

            <!-- Year Selection -->
            <div class="selection-list" *ngIf="step === 'year'">
                <button *ngFor="let year of years" class="list-item" (click)="selectYear(year)">
                    {{ year }}
                    <span class="icon-chevron-right"></span>
                </button>
            </div>

            <!-- Make Selection -->
            <div class="selection-list" *ngIf="step === 'make'">
                <button *ngFor="let make of makes" class="list-item" (click)="selectMake(make)">
                    {{ make }}
                    <span class="icon-chevron-right"></span>
                </button>
            </div>

            <!-- Model Selection -->
            <div class="selection-list" *ngIf="step === 'model'">
                <button *ngFor="let model of models" class="list-item" (click)="selectModel(model)">
                    {{ model }}
                    <span class="icon-check"></span>
                </button>
            </div>
        </div>
    </div>
</div>