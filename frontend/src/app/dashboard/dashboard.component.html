<div class="dashboard-container">

    <ng-container *ngIf="currentVehicle$ | async as vehicle; else noVehicle">
        <!-- Vehicle Dashboard -->
        <div class="vehicle-header">
            <h1>{{ vehicle.year }} {{ vehicle.make }} {{ vehicle.model }}</h1>
            <p class="vin" *ngIf="vehicle.vehicleId">ID: {{ vehicle.vehicleId }}</p>
        </div>

        <div class="category-grid">
            <div *ngFor="let cat of categories" class="category-card" (click)="navigate(cat)">
                <div class="cat-icon">
                    <i [class]="cat.iconClass"></i>
                </div>
                <div class="cat-label">{{ cat.label }}</div>
            </div>
        </div>
    </ng-container>

    <ng-template #noVehicle>
        <!-- Empty State -->
        <div class="empty-state">
            <div class="welcome-text">
                <h1>Welcome to AutoLib</h1>
                <p>Professional repair information at your fingertips.</p>
            </div>

            <button class="btn btn-primary btn-large" (click)="openVehicleSelector()">
                SELECT VEHICLE
            </button>

            <div class="features-list">
                <div class="feature-item">
                    <span class="icon"><i class="fas fa-book"></i></span>
                    <span>Repair Procedures</span>
                </div>
                <div class="feature-item">
                    <span class="icon"><i class="fas fa-plug"></i></span>
                    <span>Wiring Diagrams</span>
                </div>
                <div class="feature-item">
                    <span class="icon"><i class="fas fa-exclamation-triangle"></i></span>
                    <span>TSBs & DTCs</span>
                </div>
            </div>
        </div>
    </ng-template>

</div>
